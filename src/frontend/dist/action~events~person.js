(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{375:function(e,t,n){var r={"./af":229,"./af.js":229,"./ar":230,"./ar-dz":231,"./ar-dz.js":231,"./ar-kw":232,"./ar-kw.js":232,"./ar-ly":233,"./ar-ly.js":233,"./ar-ma":234,"./ar-ma.js":234,"./ar-sa":235,"./ar-sa.js":235,"./ar-tn":236,"./ar-tn.js":236,"./ar.js":230,"./az":237,"./az.js":237,"./be":238,"./be.js":238,"./bg":239,"./bg.js":239,"./bm":240,"./bm.js":240,"./bn":241,"./bn-bd":242,"./bn-bd.js":242,"./bn.js":241,"./bo":243,"./bo.js":243,"./br":244,"./br.js":244,"./bs":245,"./bs.js":245,"./ca":246,"./ca.js":246,"./cs":247,"./cs.js":247,"./cv":248,"./cv.js":248,"./cy":249,"./cy.js":249,"./da":250,"./da.js":250,"./de":251,"./de-at":252,"./de-at.js":252,"./de-ch":253,"./de-ch.js":253,"./de.js":251,"./dv":254,"./dv.js":254,"./el":255,"./el.js":255,"./en-au":256,"./en-au.js":256,"./en-ca":257,"./en-ca.js":257,"./en-gb":258,"./en-gb.js":258,"./en-ie":259,"./en-ie.js":259,"./en-il":260,"./en-il.js":260,"./en-in":261,"./en-in.js":261,"./en-nz":262,"./en-nz.js":262,"./en-sg":263,"./en-sg.js":263,"./eo":264,"./eo.js":264,"./es":265,"./es-do":266,"./es-do.js":266,"./es-mx":267,"./es-mx.js":267,"./es-us":268,"./es-us.js":268,"./es.js":265,"./et":269,"./et.js":269,"./eu":270,"./eu.js":270,"./fa":271,"./fa.js":271,"./fi":272,"./fi.js":272,"./fil":273,"./fil.js":273,"./fo":274,"./fo.js":274,"./fr":275,"./fr-ca":276,"./fr-ca.js":276,"./fr-ch":277,"./fr-ch.js":277,"./fr.js":275,"./fy":278,"./fy.js":278,"./ga":279,"./ga.js":279,"./gd":280,"./gd.js":280,"./gl":281,"./gl.js":281,"./gom-deva":282,"./gom-deva.js":282,"./gom-latn":283,"./gom-latn.js":283,"./gu":284,"./gu.js":284,"./he":285,"./he.js":285,"./hi":286,"./hi.js":286,"./hr":287,"./hr.js":287,"./hu":288,"./hu.js":288,"./hy-am":289,"./hy-am.js":289,"./id":290,"./id.js":290,"./is":291,"./is.js":291,"./it":292,"./it-ch":293,"./it-ch.js":293,"./it.js":292,"./ja":294,"./ja.js":294,"./jv":295,"./jv.js":295,"./ka":296,"./ka.js":296,"./kk":297,"./kk.js":297,"./km":298,"./km.js":298,"./kn":299,"./kn.js":299,"./ko":300,"./ko.js":300,"./ku":301,"./ku.js":301,"./ky":302,"./ky.js":302,"./lb":303,"./lb.js":303,"./lo":304,"./lo.js":304,"./lt":305,"./lt.js":305,"./lv":306,"./lv.js":306,"./me":307,"./me.js":307,"./mi":308,"./mi.js":308,"./mk":309,"./mk.js":309,"./ml":310,"./ml.js":310,"./mn":311,"./mn.js":311,"./mr":312,"./mr.js":312,"./ms":313,"./ms-my":314,"./ms-my.js":314,"./ms.js":313,"./mt":315,"./mt.js":315,"./my":316,"./my.js":316,"./nb":317,"./nb.js":317,"./ne":318,"./ne.js":318,"./nl":319,"./nl-be":320,"./nl-be.js":320,"./nl.js":319,"./nn":321,"./nn.js":321,"./oc-lnc":322,"./oc-lnc.js":322,"./pa-in":323,"./pa-in.js":323,"./pl":324,"./pl.js":324,"./pt":325,"./pt-br":326,"./pt-br.js":326,"./pt.js":325,"./ro":327,"./ro.js":327,"./ru":328,"./ru.js":328,"./sd":329,"./sd.js":329,"./se":330,"./se.js":330,"./si":331,"./si.js":331,"./sk":332,"./sk.js":332,"./sl":333,"./sl.js":333,"./sq":334,"./sq.js":334,"./sr":335,"./sr-cyrl":336,"./sr-cyrl.js":336,"./sr.js":335,"./ss":337,"./ss.js":337,"./sv":338,"./sv.js":338,"./sw":339,"./sw.js":339,"./ta":340,"./ta.js":340,"./te":341,"./te.js":341,"./tet":342,"./tet.js":342,"./tg":343,"./tg.js":343,"./th":344,"./th.js":344,"./tk":345,"./tk.js":345,"./tl-ph":346,"./tl-ph.js":346,"./tlh":347,"./tlh.js":347,"./tr":348,"./tr.js":348,"./tzl":349,"./tzl.js":349,"./tzm":350,"./tzm-latn":351,"./tzm-latn.js":351,"./tzm.js":350,"./ug-cn":352,"./ug-cn.js":352,"./uk":353,"./uk.js":353,"./ur":354,"./ur.js":354,"./uz":355,"./uz-latn":356,"./uz-latn.js":356,"./uz.js":355,"./vi":357,"./vi.js":357,"./x-pseudo":358,"./x-pseudo.js":358,"./yo":359,"./yo.js":359,"./zh-cn":360,"./zh-cn.js":360,"./zh-hk":361,"./zh-hk.js":361,"./zh-mo":362,"./zh-mo.js":362,"./zh-tw":363,"./zh-tw.js":363};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=375},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(65),s=n.n(r),a=n(183),o=n.n(a),c=n(21),i=n.n(c),l=n(25),u=n.n(l),p=n(23),m=n(122),f=n(46),v=n(32);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=Object(p.kea)({key:function(e){return(e.fixedFilters?JSON.stringify(e.fixedFilters):"all")+"-"+(e.apiUrl||"events")+(e.live?"-live":"")},actions:function(){return{setProperties:function(e){return{properties:e}},updateProperty:function(e,t){return{key:e,value:t}},fetchEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{nextParams:e}},fetchEventsSuccess:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{events:e,hasNext:t,isNext:n}},fetchNextEvents:!0,flipSort:!0,pollEvents:!0,pollEventsSuccess:function(e){return{events:e}},prependNewEvents:function(e){return{events:e}},setSelectedEvent:function(e){return{selectedEvent:e}},setPollTimeout:function(e){return{pollTimeout:e}},setDelayedLoading:!0}},reducers:function(){return{initialPathname:[function(e){return f.router.selectors.location(e).pathname},{noop:function(e){return e}}],properties:[{},{setProperties:function(e,t){return t.properties},updateProperty:function(e,t){var n=t.key,r=t.value;return d(d({},e),{},i()({},n,r))}}],isLoading:[!1,{fetchEvents:function(e,t){return t.nextParams?e:e||null},setDelayedLoading:function(){return!0},fetchEventsSuccess:function(){return!1}}],isLoadingNext:[!1,{fetchNextEvents:function(){return!0},fetchEventsSuccess:function(){return!1}}],events:[[],{fetchEventsSuccess:function(e,t){var n=t.events;return t.isNext?[].concat(o()(e),o()(n)):n},prependNewEvents:function(e,t){var n=t.events;return[].concat(o()(n),o()(e))}}],hasNext:[!1,{fetchEvents:function(){return!1},fetchNextEvents:function(){return!1},fetchEventsSuccess:function(e,t){return t.hasNext}}],orderBy:["-timestamp",{flipSort:function(e){return"timestamp"===e?"-timestamp":"timestamp"}}],selectedEvent:[null,{setSelectedEvent:function(e,t){return t.selectedEvent}}],newEvents:[[],{pollEventsSuccess:function(e,t){return t.events},prependNewEvents:function(){return[]}}],highlightEvents:[{},{pollEventsSuccess:function(){return{}},prependNewEvents:function(e,t){var n=t.events,r={};return n.forEach((function(e){r[e.id]=!0})),r}}],pollTimeout:[null,{setPollTimeout:function(e,t){return t.pollTimeout}}]}},selectors:function(e){var t=e.selectors;return{propertiesForUrl:[function(){return[t.properties]},function(e){return Object.keys(e).length>0?{properties:e}:""}]}},events:function(e){var t=e.actions,n=e.values;return{afterMount:[t.fetchEvents],beforeUnmount:function(){clearTimeout(n.pollTimeout)}}},actionToUrl:function(e){var t=e.values;return{setProperties:function(){return[f.router.values.location.pathname,t.propertiesForUrl]},updateProperty:function(){return[f.router.values.location.pathname,t.propertiesForUrl]}}},urlToAction:function(e){var t=e.actions,n=e.values;return{"*":function(e,r){try{if(f.router.values.location.pathname!==n.initialPathname)return}catch(e){return}Object(m.k)(r.properties||{},n.properties)||t.setProperties(r.properties||{})}}},listeners:function(e){var t,n,r=e.actions,a=e.values,o=e.props;return{setProperties:function(){r.fetchEvents()},updateProperty:function(){r.fetchEvents()},flipSort:function(){r.fetchEvents()},fetchNextEvents:(n=s()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.events,n=a.orderBy,r.fetchEvents(i()({},"timestamp"===n?"after":"before",t[t.length-1].timestamp));case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fetchEvents:[function(){var e=s()(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.events.length>0)){e.next=3;break}return e.next=3,n(500);case 3:null===a.isLoading&&r.setDelayedLoading();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),function(){var e=s()(u.a.mark((function e(t,n){var s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.nextParams,clearTimeout(a.pollTimeout),c=Object(m.o)(d(d(d({properties:a.properties},o.fixedFilters||{}),s||{}),{},{orderBy:[a.orderBy]})),e.next=5,v.a.get("".concat(o.apiUrl||"api/event/","?").concat(c));case 5:i=e.sent,n(),r.fetchEventsSuccess(i.results,i.next,!!s),r.setPollTimeout(setTimeout(r.pollEvents,5e3));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()],pollEvents:(t=s()(u.a.mark((function e(t,n){var s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-timestamp"===a.orderBy){e.next=2;break}return e.abrupt("return");case 2:return s=d(d({properties:a.properties},o.fixedFilters||{}),{},{orderBy:[a.orderBy]}),(c=a.events[0])&&(s.after=c.timestamp||c.event.timestamp),e.next=7,v.a.get("".concat(o.apiUrl||"api/event/","?").concat(Object(m.o)(s)));case 7:i=e.sent,n(),o.live?r.prependNewEvents(i.results):r.pollEventsSuccess(i.results),r.setPollTimeout(setTimeout(r.pollEvents,5e3));case 11:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}},path:function(e){return["scenes","events","eventsTableLogic",e]}})},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(60),s=n.n(r),a=n(0),o=n.n(a);function c(e){var t=e.value;return o.a.createElement(o.a.Fragment,null,"object"===s()(t)?JSON.stringify(t):t&&t.replace(/(^\w+:|^)\/\//,""))}},410:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(21),s=n.n(r),a=n(0),o=n.n(a),c=n(46),i=n(2),l=n.n(i),u=n(396),p=n(45);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=e.property,n=e.value,r=e.filters,a=e.onClick,i=Object(c.combineUrl)(window.location.pathname,f(f({},r),{},{properties:f(f({},r.properties),{},s()({},t,n))})).url;return o.a.createElement(p.a,{to:i,onClick:function(e){a&&a(t,n)}},o.a.createElement(u.a,{value:n}))}v.propTypes={property:l.a.string.isRequired,value:l.a.string,filters:l.a.object.isRequired,onClick:l.a.func}},491:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(124);var r=n(86),s=n(0),a=n.n(s),o=n(23),c=n(224),i=n.n(c),l=n(122),u=n(365),p=n(493),m=n(410),f=n(396),v=n(45);function j(e){var t=e.event,n=e.highlightEvents,r=e.selectedEvent,s=e.properties,o=e.search,c=e.setSelectedEvent,l=e.filtersEnabled,u=e.showLinkToPerson;return a.a.createElement("tr",{className:"cursor-pointer event-row "+(n[t.id]&&"event-row-new"),onClick:function(){return c(r!==t.id&&t.id)}},a.a.createElement("td",null,function(e){return"click"===e.properties.$event_type?"clicked ":"change"===e.properties.$event_type?"typed something into ":"submit"===e.properties.$event_type?"submitted ":e.event}(t),t.elements.length>0&&a.a.createElement("pre",{style:{marginBottom:0,display:"inline"}},"<",t.elements[0].tag_name,">"),t.elements.length>0&&t.elements[0].text&&' with text "'+t.elements[0].text+'"'),a.a.createElement("td",null,u?a.a.createElement(v.a,{to:"/person/".concat(encodeURIComponent(t.distinct_id)).concat(o),className:"ph-no-capture"},t.person):t.person),["$current_url","$lib"].map((function(e){var n=e,r=t.properties[n];return"$current_url"!==n||r||(n="$screen",r=t.properties[n]),a.a.createElement("td",{key:n,title:r},l?a.a.createElement(m.a,{property:n,value:t.properties[n],filters:{properties:s}}):a.a.createElement(f.a,{value:t.properties[n]}))})),a.a.createElement("td",null,i()(t.timestamp).fromNow()))}function d(){return a.a.createElement("tr",null,a.a.createElement("td",{colSpan:4},"You don't have any items here. If you haven't integrated PostHog yet,"," ",a.a.createElement(v.a,{to:"/setup"},"click here to set PostHog up on your app")))}var h=n(378),b=n(46);function E(e){var t=e.fixedFilters,n=e.filtersEnabled,s=void 0===n||n,c=Object(h.a)({fixedFilters:t}),m=Object(o.useValues)(c),f=m.properties,v=m.events,E=m.isLoading,y=m.hasNext,g=m.isLoadingNext,O=m.selectedEvent,k=m.newEvents,w=m.highlightEvents,P=Object(o.useActions)(c),x=P.updateProperty,N=P.setSelectedEvent,S=P.fetchNextEvents,z=P.flipSort,T=P.prependNewEvents,D=Object(o.useValues)(b.router).location.search,_=!(null!=t&&t.person_id);return a.a.createElement("div",{className:"events"},s?a.a.createElement(u.a,{pageKey:"EventsTable"}):null,a.a.createElement("table",{className:"table",style:{position:"relative"}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Event"),a.a.createElement("th",null,"Person"),a.a.createElement("th",null,"Path / Screen"),a.a.createElement("th",null,"Source"),a.a.createElement("th",{onClick:z},"When ",a.a.createElement("i",{className:"fi flaticon-sort"})))),a.a.createElement("tbody",null,E&&a.a.createElement(l.e,{colSpan:5,asOverlay:v.length>0}),a.a.createElement("tr",{className:"event-new-events "+(k.length>0?"show":"hide"),onClick:function(){return T(k)}},a.a.createElement("td",{colSpan:"5"},a.a.createElement("div",null,"There are ",k.length," new events. Click here to load them."))),v&&0!==v.length?null:a.a.createElement(d,null),v&&v.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id},t>0&&!i()(e.timestamp).isSame(v[t-1].timestamp,"day")&&a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"5",className:"event-day-separator"},i()(e.timestamp).format("LL"))),a.a.createElement(j,{event:e,search:D,highlightEvents:w,selectedEvent:O,properties:f,setSelectedEvent:N,setFilter:x,filtersEnabled:s,showLinkToPerson:_}),O===e.id&&a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"5"},a.a.createElement(p.a,{event:e}))))})))),a.a.createElement("div",{style:{visibility:y||g?"visible":"hidden",margin:"2rem auto 5rem",textAlign:"center"}},a.a.createElement("button",{className:"btn btn-primary",onClick:S},g?a.a.createElement(r.a,null):"Load more events")),a.a.createElement("div",{style:{marginTop:"5rem"}}))}},493:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(21),s=n.n(r),a=n(27),o=n.n(a),c=n(0),i=n.n(c),l=n(377),u=n(224),p=n.n(u),m=n(183),f=n.n(m);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return Array(e).fill("").map((function(e,t){return i.a.createElement("span",{key:t},"    ")}))}function h(e){var t=e.event,n=f()(t.elements).reverse();return i.a.createElement("div",null,n.map((function(e,t){return i.a.createElement("pre",{className:"code",style:j({margin:0,padding:0,borderRadius:0},t===n.length-1?{backgroundColor:"var(--blue)"}:{})},d(t),"<",e.tag_name,e.attr_id&&' id="'+e.attr_id+'"',Object.entries(e.attributes).map((function(e){var t=o()(e,2),n=t[0],r=t[1];return i.a.createElement("span",null," ",n.replace("attr__",""),'="',r,'"')})),">",e.text,t===n.length-1&&i.a.createElement("span",null,"</",e.tag_name,">"))})),f()(n).reverse().slice(1).map((function(e,t){return i.a.createElement("pre",{className:"code",key:t,style:{margin:0,padding:0,borderRadius:0}},d(n.length-t-2),"</",e.tag_name,">")})))}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=e.event,n=Object(c.useState)("properties"),r=o()(n,2),s=r[0],a=r[1];return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-2"},i.a.createElement("div",{className:"nav flex-column nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},i.a.createElement("a",{className:"cursor-pointer nav-link "+("properties"===s&&"active"),onClick:function(){return a("properties")}},"Properties"),t.elements.length>0&&i.a.createElement("a",{className:"cursor-pointer nav-link "+("elements"===s&&"active"),onClick:function(){return a("elements")}},"Elements"))),i.a.createElement("div",{className:"col-10"},"properties"===s?i.a.createElement("div",{className:"d-flex flex-wrap flex-column",style:{maxWidth:"100%",overflow:"scroll"}},i.a.createElement(l.a,{properties:E({Timestamp:p()(t.timestamp).toISOString()},t.properties)})):i.a.createElement(h,{event:t})))}}}]);
//# sourceMappingURL=action~events~person.js.map